<header class="site-header">
  <div class="container hdr">
    <!-- Logo / Brand -->
    <a class="brand" routerLink="/" aria-label="Home">
      <img src="/assets/images/logo.jpg" alt="FIBC Logo" class="logo" />
    </a>

    <!-- Desktop Nav -->
    <nav class="nav desktop-nav" aria-label="Main navigation">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a>
      <a routerLink="/about" routerLinkActive="active">About</a>
      <a routerLink="/history" routerLinkActive="active">History</a>
      <a routerLink="/members" routerLinkActive="active">Members</a> <!-- ✅ always visible -->
      <a routerLink="/contact" routerLinkActive="active">Contact</a>
      <a routerLink="/gallery" routerLinkActive="active">Gallery</a>
      <a class="btn btn-primary" routerLink="/visit" routerLinkActive="active">Plan a Visit</a>
      <a class="btn btn-accent" routerLink="/donate" routerLinkActive="active">Donate</a>

      <!-- 🔐 Dashboard (only if logged in) -->
      <ng-container *ngIf="auth.isAuthenticated$ | async">
        <a routerLink="/dashboard" routerLinkActive="active">Dashboard</a>
      </ng-container>

      <!-- 🔐 Auth Section -->
      <ng-container *ngIf="auth.isAuthenticated$ | async; else loggedOut">
        <div class="user-info" *ngIf="auth.user$ | async as user">
          <span class="user-name">{{ user.name || user.email }}</span>
          <button class="btn btn-small" (click)="logout()">Logout</button>
        </div>
      </ng-container>
      <ng-template #loggedOut>
        <button class="btn btn-small" (click)="auth.loginWithRedirect()">Login</button>
      </ng-template>
    </nav>

    <!-- Hamburger (mobile) -->
    <button class="hamburger" (click)="toggleMenu()" aria-label="Toggle menu">
      <span [class.open]="mobileMenuOpen"></span>
      <span [class.open]="mobileMenuOpen"></span>
      <span [class.open]="mobileMenuOpen"></span>
    </button>
  </div>

  <!-- Mobile Nav -->
  <nav class="mobile-nav" *ngIf="mobileMenuOpen" aria-label="Mobile navigation">
    <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" (click)="closeMenu()">Home</a>
    <a routerLink="/about" routerLinkActive="active" (click)="closeMenu()">About</a>
    <a routerLink="/history" routerLinkActive="active" (click)="closeMenu()">History</a>
    <a routerLink="/members" routerLinkActive="active" (click)="closeMenu()">Members</a> <!-- ✅ always visible -->
    <a routerLink="/contact" routerLinkActive="active" (click)="closeMenu()">Contact</a>
    <a routerLink="/gallery" routerLinkActive="active" (click)="closeMenu()">Gallery</a>
    <a class="btn btn-primary" routerLink="/visit" routerLinkActive="active" (click)="closeMenu()">Plan a Visit</a>
    <a class="btn btn-accent" routerLink="/donate" routerLinkActive="active" (click)="closeMenu()">Donate</a>

    <!-- 🔐 Dashboard (only if logged in) -->
    <ng-container *ngIf="auth.isAuthenticated$ | async">
      <a routerLink="/dashboard" routerLinkActive="active" (click)="closeMenu()">Dashboard</a>
    </ng-container>

    <!-- 🔐 Auth Section (Mobile) -->
    <ng-container *ngIf="auth.isAuthenticated$ | async; else mobileLoggedOut">
      <div class="user-info" *ngIf="auth.user$ | async as user">
        <span class="user-name">{{ user.name || user.email }}</span>
        <button class="btn btn-small" (click)="logout(); closeMenu()">Logout</button>
      </div>
    </ng-container>
    <ng-template #mobileLoggedOut>
      <button class="btn btn-small" (click)="auth.loginWithRedirect(); closeMenu()">Login</button>
    </ng-template>
  </nav>
</header>
